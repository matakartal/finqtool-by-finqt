var xt=e=>{throw TypeError(e)};var Pt=(e,t,r)=>t.has(e)||xt("Cannot "+r);var n=(e,t,r)=>(Pt(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>t.has(e)?xt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),h=(e,t,r,s)=>(Pt(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),g=(e,t,r)=>(Pt(e,t,"access private method"),r);var pt=(e,t,r,s)=>({set _(i){h(e,t,i,r)},get _(){return n(e,t,s)}});function ve(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zt={exports:{}},St={},te={exports:{}},f={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=Symbol.for("react.element"),be=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),Pe=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),_e=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),kt=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=kt&&e[kt]||e["@@iterator"],typeof e=="function"?e:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,se={};function st(e,t,r){this.props=e,this.context=t,this.refs=se,this.updater=r||ee}st.prototype.isReactComponent={};st.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};st.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ne(){}ne.prototype=st.prototype;function Rt(e,t,r){this.props=e,this.context=t,this.refs=se,this.updater=r||ee}var Mt=Rt.prototype=new ne;Mt.constructor=Rt;re(Mt,st.prototype);Mt.isPureReactComponent=!0;var Tt=Array.isArray,ie=Object.prototype.hasOwnProperty,Dt={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ue(e,t,r){var s,i={},o=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ie.call(t,s)&&!oe.hasOwnProperty(s)&&(i[s]=t[s]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(s in u=e.defaultProps,u)i[s]===void 0&&(i[s]=u[s]);return{$$typeof:lt,type:e,key:o,ref:a,props:i,_owner:Dt.current}}function De(e,t){return{$$typeof:lt,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jt(e){return typeof e=="object"&&e!==null&&e.$$typeof===lt}function je(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var It=/\/+/g;function Ct(e,t){return typeof e=="object"&&e!==null&&e.key!=null?je(""+e.key):t.toString(36)}function vt(e,t,r,s,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case lt:case be:a=!0}}if(a)return a=e,i=i(a),e=s===""?"."+Ct(a,0):s,Tt(i)?(r="",e!=null&&(r=e.replace(It,"$&/")+"/"),vt(i,t,r,"",function(c){return c})):i!=null&&(jt(i)&&(i=De(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(It,"$&/")+"/")+e)),t.push(i)),1;if(a=0,s=s===""?".":s+":",Tt(e))for(var u=0;u<e.length;u++){o=e[u];var l=s+Ct(o,u);a+=vt(o,t,r,l,i)}else if(l=Me(e),typeof l=="function")for(e=l.call(e),u=0;!(o=e.next()).done;)o=o.value,l=s+Ct(o,u++),a+=vt(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function yt(e,t,r){if(e==null)return e;var s=[],i=0;return vt(e,s,"","",function(o){return t.call(r,o,i++)}),s}function qe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P={current:null},gt={transition:null},Ae={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:gt,ReactCurrentOwner:Dt};function ae(){throw Error("act(...) is not supported in production builds of React.")}f.Children={map:yt,forEach:function(e,t,r){yt(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yt(e,function(){t++}),t},toArray:function(e){return yt(e,function(t){return t})||[]},only:function(e){if(!jt(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};f.Component=st;f.Fragment=Se;f.Profiler=Oe;f.PureComponent=Rt;f.StrictMode=we;f.Suspense=Ee;f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae;f.act=ae;f.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=re({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Dt.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)ie.call(t,l)&&!oe.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&u!==void 0?u[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}return{$$typeof:lt,type:e.type,key:i,ref:o,props:s,_owner:a}};f.createContext=function(e){return e={$$typeof:Ce,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pe,_context:e},e.Consumer=e};f.createElement=ue;f.createFactory=function(e){var t=ue.bind(null,e);return t.type=e,t};f.createRef=function(){return{current:null}};f.forwardRef=function(e){return{$$typeof:Fe,render:e}};f.isValidElement=jt;f.lazy=function(e){return{$$typeof:Re,_payload:{_status:-1,_result:e},_init:qe}};f.memo=function(e,t){return{$$typeof:_e,type:e,compare:t===void 0?null:t}};f.startTransition=function(e){var t=gt.transition;gt.transition={};try{e()}finally{gt.transition=t}};f.unstable_act=ae;f.useCallback=function(e,t){return P.current.useCallback(e,t)};f.useContext=function(e){return P.current.useContext(e)};f.useDebugValue=function(){};f.useDeferredValue=function(e){return P.current.useDeferredValue(e)};f.useEffect=function(e,t){return P.current.useEffect(e,t)};f.useId=function(){return P.current.useId()};f.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)};f.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)};f.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)};f.useMemo=function(e,t){return P.current.useMemo(e,t)};f.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)};f.useRef=function(e){return P.current.useRef(e)};f.useState=function(e){return P.current.useState(e)};f.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)};f.useTransition=function(){return P.current.useTransition()};f.version="18.3.1";te.exports=f;var ht=te.exports;const Qe=ge(ht),fr=ve({__proto__:null,default:Qe},[ht]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xe=ht,ke=Symbol.for("react.element"),Te=Symbol.for("react.fragment"),Ie=Object.prototype.hasOwnProperty,Ue=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$e={key:!0,ref:!0,__self:!0,__source:!0};function ce(e,t,r){var s,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)Ie.call(t,s)&&!$e.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:ke,type:e,key:o,ref:a,props:i,_owner:Ue.current}}St.Fragment=Te;St.jsx=ce;St.jsxs=ce;Zt.exports=St;var Le=Zt.exports,wt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ot=typeof window>"u"||"Deno"in globalThis;function F(){}function Ke(e,t){return typeof e=="function"?e(t):e}function He(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ne(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Et(e,t){return typeof e=="function"?e(t):e}function Ge(e,t){return typeof e=="function"?e(t):e}function Ut(e,t){const{type:r="all",exact:s,fetchStatus:i,predicate:o,queryKey:a,stale:u}=e;if(a){if(s){if(t.queryHash!==qt(a,t.options))return!1}else if(!ut(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||o&&!o(t))}function $t(e,t){const{exact:r,status:s,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(ot(t.options.mutationKey)!==ot(o))return!1}else if(!ut(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function qt(e,t){return(t?.queryKeyHashFn||ot)(e)}function ot(e){return JSON.stringify(e,(t,r)=>_t(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function ut(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ut(e[r],t[r])):!1}function le(e,t){if(e===t)return e;const r=Lt(e)&&Lt(t);if(r||_t(e)&&_t(t)){const s=r?e:Object.keys(e),i=s.length,o=r?t:Object.keys(t),a=o.length,u=r?[]:{},l=new Set(s);let c=0;for(let m=0;m<a;m++){const v=r?m:o[m];(!r&&l.has(v)||r)&&e[v]===void 0&&t[v]===void 0?(u[v]=void 0,c++):(u[v]=le(e[v],t[v]),u[v]===e[v]&&e[v]!==void 0&&c++)}return i===a&&c===i?e:u}return t}function Lt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _t(e){if(!Kt(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Kt(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Be(e){return new Promise(t=>{setTimeout(t,e)})}function Ve(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?le(e,t):t}function ze(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function We(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var At=Symbol();function he(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===At?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var H,T,W,Gt,Je=(Gt=class extends wt{constructor(){super();d(this,H);d(this,T);d(this,W);h(this,W,t=>{if(!Ot&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){n(this,T)||this.setEventListener(n(this,W))}onUnsubscribe(){var t;this.hasListeners()||((t=n(this,T))==null||t.call(this),h(this,T,void 0))}setEventListener(t){var r;h(this,W,t),(r=n(this,T))==null||r.call(this),h(this,T,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){n(this,H)!==t&&(h(this,H,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof n(this,H)=="boolean"?n(this,H):globalThis.document?.visibilityState!=="hidden"}},H=new WeakMap,T=new WeakMap,W=new WeakMap,Gt),fe=new Je,J,I,Y,Bt,Ye=(Bt=class extends wt{constructor(){super();d(this,J,!0);d(this,I);d(this,Y);h(this,Y,t=>{if(!Ot&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){n(this,I)||this.setEventListener(n(this,Y))}onUnsubscribe(){var t;this.hasListeners()||((t=n(this,I))==null||t.call(this),h(this,I,void 0))}setEventListener(t){var r;h(this,Y,t),(r=n(this,I))==null||r.call(this),h(this,I,t(this.setOnline.bind(this)))}setOnline(t){n(this,J)!==t&&(h(this,J,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return n(this,J)}},J=new WeakMap,I=new WeakMap,Y=new WeakMap,Bt),bt=new Ye;function Xe(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function s(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},r.reject=i=>{s({status:"rejected",reason:i}),t(i)},r}function Ze(e){return Math.min(1e3*2**e,3e4)}function de(e){return(e??"online")==="online"?bt.isOnline():!0}var pe=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ft(e){return e instanceof pe}function ye(e){let t=!1,r=0,s=!1,i;const o=Xe(),a=p=>{s||(x(new pe(p)),e.abort?.())},u=()=>{t=!0},l=()=>{t=!1},c=()=>fe.isFocused()&&(e.networkMode==="always"||bt.isOnline())&&e.canRun(),m=()=>de(e.networkMode)&&e.canRun(),v=p=>{s||(s=!0,e.onSuccess?.(p),i?.(),o.resolve(p))},x=p=>{s||(s=!0,e.onError?.(p),i?.(),o.reject(p))},nt=()=>new Promise(p=>{i=q=>{(s||c())&&p(q)},e.onPause?.()}).then(()=>{i=void 0,s||e.onContinue?.()}),S=()=>{if(s)return;let p;const q=r===0?e.initialPromise:void 0;try{p=q??e.fn()}catch(R){p=Promise.reject(R)}Promise.resolve(p).then(v).catch(R=>{if(s)return;const K=e.retry??(Ot?0:3),it=e.retryDelay??Ze,ft=typeof it=="function"?it(r,R):it,dt=K===!0||typeof K=="number"&&r<K||typeof K=="function"&&K(r,R);if(t||!dt){x(R);return}r++,e.onFail?.(r,R),Be(ft).then(()=>c()?void 0:nt()).then(()=>{t?x(R):S()})})};return{promise:o,cancel:a,continue:()=>(i?.(),o),cancelRetry:u,continueRetry:l,canStart:m,start:()=>(m()?S():nt().then(S),o)}}var tr=e=>setTimeout(e,0);function er(){let e=[],t=0,r=u=>{u()},s=u=>{u()},i=tr;const o=u=>{t?e.push(u):i(()=>{r(u)})},a=()=>{const u=e;e=[],u.length&&i(()=>{s(()=>{u.forEach(l=>{r(l)})})})};return{batch:u=>{let l;t++;try{l=u()}finally{t--,t||a()}return l},batchCalls:u=>(...l)=>{o(()=>{u(...l)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{s=u},setScheduler:u=>{i=u}}}var O=er(),N,Vt,me=(Vt=class{constructor(){d(this,N)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),He(this.gcTime)&&h(this,N,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ot?1/0:5*60*1e3))}clearGcTimeout(){n(this,N)&&(clearTimeout(n(this,N)),h(this,N,void 0))}},N=new WeakMap,Vt),X,G,C,B,b,at,V,E,A,zt,rr=(zt=class extends me{constructor(t){super();d(this,E);d(this,X);d(this,G);d(this,C);d(this,B);d(this,b);d(this,at);d(this,V);h(this,V,!1),h(this,at,t.defaultOptions),this.setOptions(t.options),this.observers=[],h(this,B,t.client),h(this,C,n(this,B).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,h(this,X,nr(this.options)),this.state=t.state??n(this,X),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return n(this,b)?.promise}setOptions(t){this.options={...n(this,at),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&n(this,C).remove(this)}setData(t,r){const s=Ve(this.state.data,t,this.options);return g(this,E,A).call(this,{data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(t,r){g(this,E,A).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){const r=n(this,b)?.promise;return n(this,b)?.cancel(t),r?r.then(F).catch(F):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,X))}isActive(){return this.observers.some(t=>Ge(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===At||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Et(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ne(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),n(this,b)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),n(this,b)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),n(this,C).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(n(this,b)&&(n(this,V)?n(this,b).cancel({revert:!0}):n(this,b).cancelRetry()),this.scheduleGc()),n(this,C).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||g(this,E,A).call(this,{type:"invalidate"})}fetch(t,r){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(n(this,b))return n(this,b).continueRetry(),n(this,b).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(m=>m.options.queryFn);c&&this.setOptions(c.options)}const s=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(h(this,V,!0),s.signal)})},o=()=>{const c=he(this.options,r),v=(()=>{const x={client:n(this,B),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return h(this,V,!1),this.options.persister?this.options.persister(c,v,this):c(v)},u=(()=>{const c={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:n(this,B),state:this.state,fetchFn:o};return i(c),c})();this.options.behavior?.onFetch(u,this),h(this,G,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&g(this,E,A).call(this,{type:"fetch",meta:u.fetchOptions?.meta});const l=c=>{Ft(c)&&c.silent||g(this,E,A).call(this,{type:"error",error:c}),Ft(c)||(n(this,C).config.onError?.(c,this),n(this,C).config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return h(this,b,ye({initialPromise:r?.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(m){l(m);return}n(this,C).config.onSuccess?.(c,this),n(this,C).config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,m)=>{g(this,E,A).call(this,{type:"failed",failureCount:c,error:m})},onPause:()=>{g(this,E,A).call(this,{type:"pause"})},onContinue:()=>{g(this,E,A).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),n(this,b).start()}},X=new WeakMap,G=new WeakMap,C=new WeakMap,B=new WeakMap,b=new WeakMap,at=new WeakMap,V=new WeakMap,E=new WeakSet,A=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...sr(s.data,this.options),fetchMeta:t.meta??null};case"success":return h(this,G,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Ft(i)&&i.revert&&n(this,G)?{...n(this,G),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),O.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),n(this,C).notify({query:this,type:"updated",action:t})})},zt);function sr(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:de(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nr(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var M,Wt,ir=(Wt=class extends wt{constructor(t={}){super();d(this,M);this.config=t,h(this,M,new Map)}build(t,r,s){const i=r.queryKey,o=r.queryHash??qt(i,r);let a=this.get(o);return a||(a=new rr({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){n(this,M).has(t.queryHash)||(n(this,M).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=n(this,M).get(t.queryHash);r&&(t.destroy(),r===t&&n(this,M).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){O.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return n(this,M).get(t)}getAll(){return[...n(this,M).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>Ut(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>Ut(t,s)):r}notify(t){O.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){O.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){O.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},M=new WeakMap,Wt),D,w,z,j,k,Jt,or=(Jt=class extends me{constructor(t){super();d(this,j);d(this,D);d(this,w);d(this,z);this.mutationId=t.mutationId,h(this,w,t.mutationCache),h(this,D,[]),this.state=t.state||ur(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){n(this,D).includes(t)||(n(this,D).push(t),this.clearGcTimeout(),n(this,w).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){h(this,D,n(this,D).filter(r=>r!==t)),this.scheduleGc(),n(this,w).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){n(this,D).length||(this.state.status==="pending"?this.scheduleGc():n(this,w).remove(this))}continue(){return n(this,z)?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{g(this,j,k).call(this,{type:"continue"})};h(this,z,ye({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(o,a)=>{g(this,j,k).call(this,{type:"failed",failureCount:o,error:a})},onPause:()=>{g(this,j,k).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(this,w).canRun(this)}));const s=this.state.status==="pending",i=!n(this,z).canStart();try{if(s)r();else{g(this,j,k).call(this,{type:"pending",variables:t,isPaused:i}),await n(this,w).config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&g(this,j,k).call(this,{type:"pending",context:a,variables:t,isPaused:i})}const o=await n(this,z).start();return await n(this,w).config.onSuccess?.(o,t,this.state.context,this),await this.options.onSuccess?.(o,t,this.state.context),await n(this,w).config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,t,this.state.context),g(this,j,k).call(this,{type:"success",data:o}),o}catch(o){try{throw await n(this,w).config.onError?.(o,t,this.state.context,this),await this.options.onError?.(o,t,this.state.context),await n(this,w).config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,t,this.state.context),o}finally{g(this,j,k).call(this,{type:"error",error:o})}}finally{n(this,w).runNext(this)}}},D=new WeakMap,w=new WeakMap,z=new WeakMap,j=new WeakSet,k=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),O.batch(()=>{n(this,D).forEach(s=>{s.onMutationUpdate(t)}),n(this,w).notify({mutation:this,type:"updated",action:t})})},Jt);function ur(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Q,_,ct,Yt,ar=(Yt=class extends wt{constructor(t={}){super();d(this,Q);d(this,_);d(this,ct);this.config=t,h(this,Q,new Set),h(this,_,new Map),h(this,ct,0)}build(t,r,s){const i=new or({mutationCache:this,mutationId:++pt(this,ct)._,options:t.defaultMutationOptions(r),state:s});return this.add(i),i}add(t){n(this,Q).add(t);const r=mt(t);if(typeof r=="string"){const s=n(this,_).get(r);s?s.push(t):n(this,_).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(n(this,Q).delete(t)){const r=mt(t);if(typeof r=="string"){const s=n(this,_).get(r);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&n(this,_).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=mt(t);if(typeof r=="string"){const i=n(this,_).get(r)?.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){const r=mt(t);return typeof r=="string"?n(this,_).get(r)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){O.batch(()=>{n(this,Q).forEach(t=>{this.notify({type:"removed",mutation:t})}),n(this,Q).clear(),n(this,_).clear()})}getAll(){return Array.from(n(this,Q))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>$t(r,s))}findAll(t={}){return this.getAll().filter(r=>$t(t,r))}notify(t){O.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return O.batch(()=>Promise.all(t.map(r=>r.continue().catch(F))))}},Q=new WeakMap,_=new WeakMap,ct=new WeakMap,Yt);function mt(e){return e.options.scope?.id}function Ht(e){return{onFetch:(t,r)=>{const s=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=he(t.options,t.fetchOptions),nt=async(S,p,q)=>{if(m)return Promise.reject();if(p==null&&S.pages.length)return Promise.resolve(S);const K=(()=>{const Qt={client:t.client,queryKey:t.queryKey,pageParam:p,direction:q?"backward":"forward",meta:t.options.meta};return v(Qt),Qt})(),it=await x(K),{maxPages:ft}=t.options,dt=q?We:ze;return{pages:dt(S.pages,it,ft),pageParams:dt(S.pageParams,p,ft)}};if(i&&o.length){const S=i==="backward",p=S?cr:Nt,q={pages:o,pageParams:a},R=p(s,q);u=await nt(q,R,S)}else{const S=e??o.length;do{const p=l===0?a[0]??s.initialPageParam:Nt(s,u);if(l>0&&p==null)break;u=await nt(u,p),l++}while(l<S)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Nt(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function cr(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var y,U,$,Z,tt,L,et,rt,Xt,dr=(Xt=class{constructor(e={}){d(this,y);d(this,U);d(this,$);d(this,Z);d(this,tt);d(this,L);d(this,et);d(this,rt);h(this,y,e.queryCache||new ir),h(this,U,e.mutationCache||new ar),h(this,$,e.defaultOptions||{}),h(this,Z,new Map),h(this,tt,new Map),h(this,L,0)}mount(){pt(this,L)._++,n(this,L)===1&&(h(this,et,fe.subscribe(async e=>{e&&(await this.resumePausedMutations(),n(this,y).onFocus())})),h(this,rt,bt.subscribe(async e=>{e&&(await this.resumePausedMutations(),n(this,y).onOnline())})))}unmount(){var e,t;pt(this,L)._--,n(this,L)===0&&((e=n(this,et))==null||e.call(this),h(this,et,void 0),(t=n(this,rt))==null||t.call(this),h(this,rt,void 0))}isFetching(e){return n(this,y).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return n(this,U).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return n(this,y).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=n(this,y).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Et(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return n(this,y).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),o=n(this,y).get(s.queryHash)?.state.data,a=Ke(t,o);if(a!==void 0)return n(this,y).build(this,s).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return O.batch(()=>n(this,y).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return n(this,y).get(t.queryHash)?.state}removeQueries(e){const t=n(this,y);O.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=n(this,y);return O.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=O.batch(()=>n(this,y).findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(F).catch(F)}invalidateQueries(e,t={}){return O.batch(()=>(n(this,y).findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=O.batch(()=>n(this,y).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(F)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(F)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=n(this,y).build(this,t);return r.isStaleByTime(Et(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(F).catch(F)}fetchInfiniteQuery(e){return e.behavior=Ht(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(F).catch(F)}ensureInfiniteQueryData(e){return e.behavior=Ht(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bt.isOnline()?n(this,U).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,y)}getMutationCache(){return n(this,U)}getDefaultOptions(){return n(this,$)}setDefaultOptions(e){h(this,$,e)}setQueryDefaults(e,t){n(this,Z).set(ot(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...n(this,Z).values()],r={};return t.forEach(s=>{ut(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){n(this,tt).set(ot(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...n(this,tt).values()],r={};return t.forEach(s=>{ut(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...n(this,$).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qt(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===At&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...n(this,$).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){n(this,y).clear(),n(this,U).clear()}},y=new WeakMap,U=new WeakMap,$=new WeakMap,Z=new WeakMap,tt=new WeakMap,L=new WeakMap,et=new WeakMap,rt=new WeakMap,Xt),lr=ht.createContext(void 0),pr=({client:e,children:t})=>(ht.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Le.jsx(lr.Provider,{value:e,children:t}));export{dr as Q,Qe as R,fr as a,pr as b,ge as g,Le as j,ht as r};
